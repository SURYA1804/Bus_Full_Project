@page "/BookingRecords"
@using Details
@using Table
@rendermode InteractiveServer
@inject NavigationManager NavigationManager
<body style="background-color:rgb(97, 231, 162);">

<center><h3 class = "head">Booking History</h3></center>
  @if (CustomerDetails.customer_booking_records == null)
  {
              <p class ="background"><em>Loading...</em></p>
  }
  else if (CustomerDetails.customer_booking_records.Count == 0)
  {
              <p class ="background"> No booking records found.</p>
  }
  else
  {
              <table class="detail-table">
              <thead class="thead-dark">
              <tr>
              <th>Bus Name</th>
              <th>Seat Type</th>
              <th>Seat Place</th>
              <th>Actual Price</th>
              <th>Final Price</th>
              <th>Discount Rate</th>
              <th>Date and Time</th>
              <th>Route</th>
              <th>Boarding Point</th>
              <th>Drop Point</th>
              </tr>
              </thead>
              <tbody>

        @foreach (var record in CustomerDetails.customer_booking_records.OrderBy(b => b.DateTime))
        {
                            <tr>
                            <td>@record.BusName</td>
                            <td>@record.SeatType</td>
                            <td>@record.SeatPlace</td>
                            <td>₹ @record.ActualSeatPrice</td>
                            <td>₹ @record.FinalSeatPrice</td>
                            <td>@record.DiscountRate</td>
                            <td>@record.DateTime.ToString("dd-MM-yyyy HH:mm")</td>
                            <td>@record.Route</td>
                            <td>@record.BoardingPoint</td>
                            <td>@record.DropPoint</td>
                            </tr>
        }
              </tbody>
              </table>
  }
<br><br>
<button type="button" class="custom-btn" @onclick="Back">Back</button>
</body>
<style>
.detail-table {
  border-collapse: separate;
  margin: auto auto; 
  width: 60%; 
  font-family: Arial, sans-serif; 
  border-spacing: 0 8px; 
}

.detail-table tr { 
  background-color: #e8f5e9; 
  transition: background-color 0.3s ease; 
}

.detail-table tr:hover { 
  background-color: #c8e6c9; 
}

.detail-table th,
.detail-table td {
  border: 1px solid #a5d6a7; 
  padding: 20px; 
  text-align: left; 
  vertical-align: middle;
}

.detail-table th {
  font-weight: bold;
  background-color: #66bb6a; 
  color: #ffffff;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border-radius: 5px; 
}

.detail-table td {
  color: #2e7d32; 
  background-color: #ffffff;
  border-radius: 5px; 
  white-space: nowrap; 
}

.detail-table tr:nth-child(odd) td {
  background-color: #f1f8e9;
}

.custom-btn {
  background-color: #4CAF50;
  color: white; 
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
}

.custom-btn:hover {
  background-color: #3e8e41;
}
.head
{
background-color: #28a745; 
color:#eef4f3;
width: 95%;
padding: 20px 20px;
font-size: 25px;
font-weight: bold;
border-radius: 25px;
text-align: center;
}
</style>

@code
{

  private async Task Back()
  {
    NavigationManager.NavigateTo("/MainSection");
  }
}